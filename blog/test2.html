<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>无缝轮播</title>
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      ul {
        list-style: none;
      }

      #wrap {
        overflow: hidden;
        position: relative;
        width: 766px;
        height: 430.88px;
        margin: 0px auto 0;
      }

      #wrap .img-list {
        display: flex;
        position: relative;
        left: 0px;
        width: 100%;
        height: 100%;
        transition: 0.5s ease;
      }

      #wrap .img-list img {
        width: 100%;
        cursor: pointer;
      }

      #wrap a {
        position: absolute;
        top: 50%;
        transform: translate(0, -50%);
        display: block;
        width: 40px;
        height: 70px;
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        user-select: none;
        font-size: 30px;
        text-align: center;
        line-height: 70px;
        text-decoration: none;
      }

      #wrap a.left {
        left: 0;
      }

      #wrap a.right {
        right: 0;
      }

      .circle-list {
        display: flex;
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translate(-50%, 0);
        width: 240px;
        height: 40px;
        z-index: 8;
      }
      .circle-list > .circle {
        margin: 0 5px;
        width: 30px;
        height: 30px;
        background-color: #ecf0f1;
        border-radius: 50%;
      }

      .circle-list > .circle.active {
        background-color: #e74c3c;
      }
    </style>
  </head>
  
  <body>
  <div id="wrap">
    
  <h2 id="title">TITLE</h2>
    
  <p><br /></p>

      <div class="img-list">
        <img class="profile-img img-responsive" src="/assets/img/2015.PNG" />
        <img class="profile-img img-responsive" src="/assets/img/prof_pic.jpg" />
        <img class="profile-img img-responsive" src="/assets/img/2016.PNG" />
        <img class="profile-img img-responsive" src="/assets/img/prof_pic.jpg" />
        <img class="profile-img img-responsive" src="/assets/img/2017.PNG" />
      </div>

      <div class="arrow">
        <a href="javascript:;" class="left"><</a>
        <a href="javascript:;" class="right">></a>
      </div>

      <ul class="circle-list">
        <li class="circle active" data-n="0"></li>
        <li class="circle" data-n="1"></li>
        <li class="circle" data-n="2"></li>
        <li class="circle" data-n="3"></li>
        <li class="circle" data-n="4"></li>
      </ul>
 
    
  <p>INFORMATION OF THE PICTURE.</p>

  <p><br /></p>

  <p>DISCRIBE THE PICTURE.</p>
    
  <p><br /></p>

  </div> 
    
    <script>
      let oLeft = document.querySelector(".left");
      let oRight = document.querySelector(".right");
      let oImgList = document.querySelector(".img-list");

      let clonefirstImg = oImgList.firstElementChild.cloneNode();
      oImgList.appendChild(clonefirstImg);

      let index = 0;

      let lock = true;
      function handleRightBtn() {
        if (!lock) return;
        index++;
        oImgList.style.left = index * -766 + "px";
        oImgList.style.transition = "0.5s ease";

        if (index === 5) {
          index = 0;
          setTimeout(() => {
            oImgList.style.left = 0;
            oImgList.style.transition = "none";
          }, 500);
        }


        setCircles();
        lock = false;
        setTimeout(() => {
          lock = true;
        }, 500);
      }


      oRight.addEventListener("click", handleRightBtn);

      oLeft.addEventListener("click", () => {
        if (!lock) return;
        index--;
        if (index === -1) {
          oImgList.style.left = 5 * -766 + "px";
          oImgList.style.transition = "none";
          index = 4;
          setTimeout(() => {
            oImgList.style.left = index * -766 + "px";
            oImgList.style.transition = "0.5s ease";
          }, 0);
        } else {
          oImgList.style.left = index * -766 + "px";
        }


        setCircles();

        lock = false;
        setTimeout(() => {
          lock = true;
        }, 500);
      });

      const circles = document.querySelectorAll(".circle");

      function setCircles() {
        for (let i = 0; i < circles.length; i++) {
          if (i === index) {
            circles[i].classList.add("active");
          } else {
            circles[i].classList.remove("active");
          }
        }
      }


      const oCircle = document.querySelector(".circle-list");
      oCircle.addEventListener("click", (e) => {

        if (e.target.nodeName.toLowerCase() === "li") {
          const n = Number(e.target.getAttribute("data-n"));
          index = n;
          setCircles();
          oImgList.style.transition = "0.5s ease";
          oImgList.style.left = index * -766 + "px";
        }
      });


      let autoplay = setInterval(handleRightBtn, 2000);
      const oWrap = document.getElementById("wrap");
      
      oWrap.addEventListener("mouseenter", () => {
        clearInterval(autoplay);
      });

      oWrap.addEventListener("mouseleave", () => {
        clearInterval(autoplay);
        autoplay = setInterval(handleRightBtn, 2000);
      });

    </script>
  </body>
</html>
